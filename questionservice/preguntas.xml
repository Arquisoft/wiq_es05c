<preguntas>

    <pregunta question="pais" type="capital"  category="geografia">
        <query>
            SELECT DISTINCT ?countryLabel (SAMPLE(?nombreCapital) AS ?capitales)
            WHERE {
                ?country wdt:P31 wd:Q3624078.  # Instancia de país
                ?country wdt:P36 ?capital.  # Tiene capital
                ?country rdfs:label ?countryLabel filter (lang(?countryLabel) = "es").
                ?capital rdfs:label ?nombreCapital filter (lang(?nombreCapital) = "es").
            }
            GROUP BY ?countryLabel
        </query>
    </pregunta>
    
    <pregunta question="estado" type="capital"  category="geografia">
        <query >
            SELECT ?stateLabel ?state ?capitalLabel
            WHERE {
                ?state wdt:P31 wd:Q35657 .
                ?state p:P36 ?statement .
                ?statement ps:P36 ?capital .
            # Fetching the rank of the property
            ?statement wikibase:rank ?rank .
            SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es". }
            # Subquery to get the highest ranked capital for each state
            {
                SELECT ?state (MAX(?rank) AS ?maxRank)
                WHERE {
                    ?state wdt:P31 wd:Q35657 .
                    ?state p:P36 ?statement .
                    ?statement wikibase:rank ?rank .
                }
                GROUP BY ?state
            }
            FILTER (?rank = ?maxRank)
           }
        </query>
    </pregunta>
    
   
   <pregunta question="libro" type="autor"  category="arte">
    <query>
        SELECT DISTINCT ?nombreLibro (GROUP_CONCAT(DISTINCT ?nombreAuthor; SEPARATOR=", ") AS ?authors)
        WHERE {
            ?book wdt:P31 wd:Q571.  # libro (clase)
            ?book wdt:P50 ?author.  # Relación "autor"
            ?book rdfs:label ?nombreLibro filter (lang(?nombreLibro) = "es").
            ?author rdfs:label ?nombreAuthor filter (lang(?nombreAuthor) = "es").
        }
        GROUP BY ?nombreLibro
    </query>
   </pregunta>

   <pregunta question="libro" type="genero"  category="arte">
    <query>
        SELECT DISTINCT ?nombreLibro (GROUP_CONCAT(DISTINCT ?nombregenero; SEPARATOR=", ") AS ?generos)
        WHERE {
            ?book wdt:P31 wd:Q571.  
            ?book wdt:P136 ?genero.  # Relación "género"
            ?book rdfs:label ?nombreLibro filter (lang(?nombreLibro) = "es").
            ?genero rdfs:label ?nombregenero filter (lang(?nombregenero) = "es").
        }
        GROUP BY ?nombreLibro
    </query>
   </pregunta>

   <pregunta question="nombreLibro" type="paisLibro"  category="arte">
    <query>
        SELECT DISTINCT ?nombreLibro (GROUP_CONCAT(DISTINCT ?nombrePais; SEPARATOR=", ") AS ?paises) 
        WHERE { 
            ?book wdt:P31 wd:Q571.  # libro (clase) 
            ?book wdt:P495 ?country.  # Relación "país de origen" 
            ?book rdfs:label ?nombreLibro filter (lang(?nombreLibro) = "es"). 
            ?country rdfs:label ?nombrePais filter (lang(?nombrePais) = "es"). 
        } 
        GROUP BY ?nombreLibro 
    </query>
   </pregunta>

   <pregunta question="actores" type="fechaNacimiento"  category="arte">
    <query>
        SELECT ?personLabel ?persona ?birthDate 
        WHERE{ 
            ?person wdt:P27 wd:Q29 .           
            ?person wdt:P106 wd:Q33999 .           
            ?person wdt:P569 ?birthDate .           
            SERVICE wikibase:label { 
                bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es". 
            }           
        } 
    </query>
   </pregunta>

   <pregunta question="chef" type="startDate"  category="arte">
    <query>
        SELECT ?personLabel ?persona ?startDate         
        WHERE {  
            ?person wdt:P27 wd:Q29 .  
            ?person wdt:P106 wd:Q156839 .  
            ?person wdt:P2031 ?startDate.  
            SERVICE wikibase:label {  
                bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es".  
            }  
        } 
    </query>
   </pregunta>

   <pregunta question="videojuego" type="plataforma"  category="entretenimiento">
    <query>
        SELECT DISTINCT ?nombreVideojuego (GROUP_CONCAT(DISTINCT ?nombrePlataforma; SEPARATOR=", ") AS ?plataformas)
        WHERE {
            ?videojuego wdt:P31 wd:Q7889.  # Videojuegos (clase)
            ?videojuego wdt:P123 ?plataforma.  # Relación "plataforma"
            ?videojuego rdfs:label ?nombreVideojuego filter (lang(?nombreVideojuego) = "es").
            ?plataforma rdfs:label ?nombrePlataforma filter (lang(?nombrePlataforma) = "es").
        }
        GROUP BY ?nombreVideojuego
    </query>
   </pregunta>

   <pregunta question="videojuego" type="genero"  category="entretenimiento">
    <query>
        SELECT DISTINCT ?nombreVideojuego (GROUP_CONCAT(DISTINCT ?nombreGenero; SEPARATOR=", ") AS ?generos)
        WHERE {
            ?videojuego wdt:P31 wd:Q7889.  # Videojuegos (clase)
            ?videojuego wdt:P136 ?genero.  # Relación "género"
            ?videojuego rdfs:label ?nombreVideojuego filter (lang(?nombreVideojuego) = "es").
            ?genero rdfs:label ?nombreGenero filter (lang(?nombreGenero) = "es").
        }
        GROUP BY ?nombreVideojuego
    </query>
   </pregunta>

   <pregunta question="clubFutbol" type="estadio"  category="deportes">
    <query>
        SELECT DISTINCT ?clubLabel (GROUP_CONCAT(DISTINCT ?estadioName; SEPARATOR=", ") AS ?estadios)
        WHERE {
            ?club wdt:P31 wd:Q476028.  # club (clase)
            ?club wdt:P115 ?estadio.  # Relación "estadio"
            ?club rdfs:label ?clubLabel filter (lang(?clubLabel) = "es").
            ?estadio rdfs:label ?estadioName filter (lang(?estadioName) = "es").
        }
        GROUP BY ?clubLabel
    </query>
   </pregunta>

   <pregunta question="tenista" type="lugarNacimiento"  category="deportes">
    <query>
        SELECT ?tenistaLabel ?tenista ?lugarNacimientoLabel
        WHERE {
            ?tenista wdt:P106 wd:Q10833314. # Instancia de tenista
            ?tenista wdt:P19 ?lugarNacimiento. # Lugar de nacimiento
            SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es". }
        }
    </query>
   </pregunta>

   <pregunta question="futbolistas" type="fechaNacimiento"  category="deportes">
    <query>
        SELECT ?personLabel ?person ?birthDate 
        WHERE { 
            ?person wdt:P27 wd:Q29 . 
            ?person wdt:P106 wd:Q937857 . 
            ?person wdt:P569 ?birthDate . 
            SERVICE wikibase:label { 
                bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es". 
            } 
        } 
    </query>
   </pregunta>

   <pregunta question="futbolistas" type="startDate"  category="deportes">
    <query>
        SELECT ?personLabel ?person ?startDate 
        WHERE {  
            ?person wdt:P27 wd:Q29 .  
            ?person wdt:P106 wd:Q937857 .  
            ?person wdt:P2031 ?startDate.  
            SERVICE wikibase:label {  
                bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es".            
            }  
        }
    </query>
   </pregunta>

   
   <pregunta question="presidenteEspaña" type="fechaNacimiento"  category="historia">
    <query>
        SELECT DISTINCT ?nombreCompleto ?presidente ?fechaNacimiento
        WHERE {
            ?presidente wdt:P31 wd:Q5; # Filtrar por personas
              wdt:P39 wd:Q844587; # Filtrar por posición: presidente del Gobierno de España
              wdt:P569 ?fechaNacimiento; # Obtener fecha de nacimiento (opcional)
              wdt:P1559 ?nombreCompleto.
              SERVICE wikibase:label { bd:serviceParam wikibase:language "es". }
            }
        ORDER BY ?nombreCompleto
    </query>
   </pregunta>

   <pregunta question="personasOviedo" type="fechaNacimiento"  category="historia">
    <query>
        SELECT ?personLabel ?person ?fNacimiento
        WHERE {
            ?person wdt:P19 wd:Q14317.
            ?person wdt:P569 ?fNacimiento .
            SERVICE wikibase:label { bd:serviceParam wikibase:language "es". }
        }
    </query>
   </pregunta>

  

   <pregunta question="nombreCientifico" type="camposCientifico"  category="ciencia">
    <query>
        SELECT DISTINCT ?nombreCientifico (GROUP_CONCAT(DISTINCT ?nombreCampo; SEPARATOR=", ") AS ?campos) 
        WHERE { 
            ?scientist wdt:P31 wd:Q5.  # humano (clase) 
            ?scientist wdt:P106 wd:Q901.  # Relación "ocupación" con valor "científico" 
            ?scientist wdt:P101 ?field.  # Relación "campo de trabajo" 
            ?scientist rdfs:label ?nombreCientifico filter (lang(?nombreCientifico) = "es"). 
            ?field rdfs:label ?nombreCampo filter (lang(?nombreCampo) = "es"). 
        } 
        GROUP BY ?nombreCientifico
    </query>
   </pregunta>

   <pregunta question="nombreCientifico" type="interesesCientifico"  category="ciencia">
    <query>
        SELECT DISTINCT ?nombreCientifico (GROUP_CONCAT(DISTINCT ?nombreInteres; SEPARATOR=", ") AS ?intereses) 
        WHERE { 
            ?scientist wdt:P31 wd:Q5.  # humano (clase) 
            ?scientist wdt:P106 wd:Q901.  # Relación "ocupación" con valor "científico" 
            ?scientist wdt:P2650 ?interest.  # Relación "área de interés" 
            ?scientist rdfs:label ?nombreCientifico filter (lang(?nombreCientifico) = "es"). 
            ?interest rdfs:label ?nombreInteres filter (lang(?nombreInteres) = "es"). 
        } 
        GROUP BY ?nombreCientifico 
    </query>
   </pregunta>

   <pregunta question="nombreElemento" type="numeroAtomico"  category="ciencia">
    <query>
        SELECT DISTINCT ?nombreElemento ?element ?numeroAtomico 
        WHERE { 
            ?element wdt:P31 wd:Q11344.  # elemento químico (clase) 
            ?element wdt:P1086 ?atomicNumber.  # Relación "número atómico" 
             ?element rdfs:label ?nombreElemento filter (lang(?nombreElemento) = "es"). 
             BIND(str(?atomicNumber) AS ?numeroAtomico) 
            } 
    </query>
   </pregunta>


   <pregunta question="dj" type="startDate" category="musica">
    <query>
        SELECT ?personLabel ?person ?startDate 
        WHERE {  
            ?person wdt:P27 wd:Q29 .  
            ?person wdt:P106 wd:Q130857 .            
            ?person wdt:P2031 ?startDate.            
            SERVICE wikibase:label {            
                bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es".            
            }            
        } 
    </query>
    </pregunta>

    <pregunta question="guitarrista" type="startDate" category="musica">
        <query>
            SELECT ?personLabel ?person ?startDate 
            WHERE {  
                ?person wdt:P27 wd:Q29 .                
                ?person wdt:P106 wd:Q855091 .                
                ?person wdt:P2031 ?startDate.                
                SERVICE wikibase:label {                
                    bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es".              
                }                
            } 
        </query>
    </pregunta>

    <pregunta question="cantante" type="startDate" category="musica">
        <query>
            SELECT ?personLabel ?person ?startDate
            WHERE {  
                ?person wdt:P27 wd:Q29 .                
                ?person wdt:P106 wd:Q177220 .                
                ?person wdt:P2031 ?startDate.  
                SERVICE wikibase:label {                
                    bd:serviceParam wikibase:language "[AUTO_LANGUAGE],es".               
                } 
            } 
        </query>
    </pregunta>
</preguntas>